<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Final project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="final project_files/libs/clipboard/clipboard.min.js"></script>
<script src="final project_files/libs/quarto-html/quarto.js"></script>
<script src="final project_files/libs/quarto-html/popper.min.js"></script>
<script src="final project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="final project_files/libs/quarto-html/anchor.min.js"></script>
<link href="final project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="final project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="final project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="final project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="final project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="final project_files/libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="final project_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="final project_files/libs/datatables-binding-0.27/datatables.js"></script>
<script src="final project_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="final project_files/libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="final project_files/libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="final project_files/libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="final project_files/libs/dt-ext-responsive-1.12.1/css/responsive.dataTables.min.css" rel="stylesheet">
<script src="final project_files/libs/dt-ext-responsive-1.12.1/js/dataTables.responsive.min.js"></script>
<link href="final project_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="final project_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final project</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(pander)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>Education attainment refers to the highest level of education that an individual has completed. Inequalities in education is problematic in society level because education achievement usually leads to economic prospects. According to UNICEF, the lack of qualified teachers, inadequate teaching materials, and poor sanitation are some of the reasons why children do not receive a quality education. In scope of US, we want to know that house income, teacher ratio, and school fund how related to the education attainment.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Data1: Graduation Number by State</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>education <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"C:/Users/gakyeong/Desktop/2022.4th/project/Education_edit.xlsx"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>education1 <span class="ot">&lt;-</span> education <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">mutate</span>(<span class="at">lower_high =</span> <span class="st">`</span><span class="at">Less than a high school diploma, 2017-21</span><span class="st">`</span><span class="sc">+</span> <span class="st">`</span><span class="at">High school diploma only, 2017-21</span><span class="st">`</span>, </span>
<span id="cb2-6"><a href="#cb2-6"></a>         <span class="at">upper_high =</span> <span class="st">`</span><span class="at">Some college or associate's degree, 2017-21</span><span class="st">`</span><span class="sc">+</span><span class="st">`</span><span class="at">Bachelor's degree or higher, 2017-21</span><span class="st">`</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="fu">select</span>(State, lower_high, upper_high ) <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span> </span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="fu">mutate_if</span>(is.numeric, </span>
<span id="cb2-10"><a href="#cb2-10"></a>            <span class="cf">function</span>(x) <span class="fu">ifelse</span>(<span class="fu">is.na</span>(x), </span>
<span id="cb2-11"><a href="#cb2-11"></a>                               <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb2-12"><a href="#cb2-12"></a>                               x)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="fu">summarise</span>(<span class="at">lower_high =</span> <span class="fu">sum</span>(lower_high), </span>
<span id="cb2-14"><a href="#cb2-14"></a>            <span class="at">upper_high =</span> <span class="fu">sum</span>(upper_high)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-15"><a href="#cb2-15"></a>  <span class="fu">arrange</span>(State)</span>
<span id="cb2-16"><a href="#cb2-16"></a></span>
<span id="cb2-17"><a href="#cb2-17"></a>US_edu <span class="ot">&lt;-</span> education1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State <span class="sc">==</span><span class="st">"US"</span>)</span>
<span id="cb2-18"><a href="#cb2-18"></a></span>
<span id="cb2-19"><a href="#cb2-19"></a>education2 <span class="ot">&lt;-</span>education1 <span class="sc">%&gt;%</span> </span>
<span id="cb2-20"><a href="#cb2-20"></a>  <span class="fu">mutate</span>(<span class="fu">ifelse</span>(State <span class="sc">%in%</span> state.abb,<span class="dv">1</span>, <span class="dv">0</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb2-21"><a href="#cb2-21"></a>  <span class="fu">filter</span>(<span class="sc">!</span>State <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"DC"</span>, <span class="st">"PR"</span>, <span class="st">"US"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>  <span class="fu">select</span>(State, lower_high, upper_high)</span>
<span id="cb2-23"><a href="#cb2-23"></a></span>
<span id="cb2-24"><a href="#cb2-24"></a></span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="co"># Data2: House Average Income by State</span></span>
<span id="cb2-26"><a href="#cb2-26"></a>income <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"C:/Users/gakyeong/Desktop/2022.4th/project/income_mean_edit.xlsx"</span>, <span class="at">skip=</span><span class="dv">2</span>)</span>
<span id="cb2-27"><a href="#cb2-27"></a></span>
<span id="cb2-28"><a href="#cb2-28"></a><span class="fu">colnames</span>(income)[<span class="dv">1</span>] <span class="ot">=</span><span class="st">"State"</span></span>
<span id="cb2-29"><a href="#cb2-29"></a></span>
<span id="cb2-30"><a href="#cb2-30"></a>income1 <span class="ot">&lt;-</span>income <span class="sc">%&gt;%</span> </span>
<span id="cb2-31"><a href="#cb2-31"></a>  <span class="fu">mutate</span>(<span class="at">income_17_21 =</span> <span class="st">`</span><span class="at">Median income...2</span><span class="st">`</span><span class="sc">+</span><span class="st">`</span><span class="at">Median income...4</span><span class="st">`</span><span class="sc">+</span><span class="st">`</span><span class="at">Median income...6</span><span class="st">`</span> <span class="sc">+</span><span class="st">`</span><span class="at">Median income...8</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Median income...10</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-32"><a href="#cb2-32"></a>  <span class="fu">select</span>(State, income_17_21) <span class="sc">%&gt;%</span> </span>
<span id="cb2-33"><a href="#cb2-33"></a>  <span class="fu">filter</span>(<span class="sc">!</span>State <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Puerto Rico'</span>, <span class="st">'District of Columbia'</span>, <span class="st">"United States"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-34"><a href="#cb2-34"></a>  <span class="fu">arrange</span>(State) </span>
<span id="cb2-35"><a href="#cb2-35"></a></span>
<span id="cb2-36"><a href="#cb2-36"></a> us_income <span class="ot">&lt;-</span>income <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb2-37"><a href="#cb2-37"></a>  <span class="fu">mutate</span>(<span class="at">income_17_21 =</span> <span class="st">`</span><span class="at">Median income...2</span><span class="st">`</span><span class="sc">+</span><span class="st">`</span><span class="at">Median income...4</span><span class="st">`</span><span class="sc">+</span><span class="st">`</span><span class="at">Median income...6</span><span class="st">`</span> <span class="sc">+</span><span class="st">`</span><span class="at">Median income...8</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Median income...10</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-38"><a href="#cb2-38"></a>  <span class="fu">select</span>(State, income_17_21)</span>
<span id="cb2-39"><a href="#cb2-39"></a></span>
<span id="cb2-40"><a href="#cb2-40"></a><span class="co"># unify the state name </span></span>
<span id="cb2-41"><a href="#cb2-41"></a>income1<span class="ot">&lt;-</span> <span class="fu">mutate</span>(income1, <span class="at">stateabb =</span> state.abb[<span class="fu">match</span>(income1<span class="sc">$</span>State,state.name)])</span>
<span id="cb2-42"><a href="#cb2-42"></a></span>
<span id="cb2-43"><a href="#cb2-43"></a></span>
<span id="cb2-44"><a href="#cb2-44"></a><span class="co"># Data3: Teacher ratio by State</span></span>
<span id="cb2-45"><a href="#cb2-45"></a>teacher <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="st">"C:/Users/gakyeong/Desktop/2022.4th/project/teacher ratio.xls"</span>, <span class="at">skip=</span><span class="dv">2</span>)</span>
<span id="cb2-46"><a href="#cb2-46"></a><span class="fu">colnames</span>(teacher)[<span class="dv">1</span>] <span class="ot">=</span><span class="st">"State"</span></span>
<span id="cb2-47"><a href="#cb2-47"></a></span>
<span id="cb2-48"><a href="#cb2-48"></a>teacher1 <span class="ot">&lt;-</span>teacher <span class="sc">%&gt;%</span> </span>
<span id="cb2-49"><a href="#cb2-49"></a>  <span class="fu">filter</span>(<span class="sc">!</span>State <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Puerto Rico'</span>, <span class="st">'District of Columbia'</span>, <span class="st">"United States"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-50"><a href="#cb2-50"></a>  <span class="fu">select</span> (State, <span class="st">"9"</span>, <span class="st">"12"</span>, <span class="st">"15"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-51"><a href="#cb2-51"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span> </span>
<span id="cb2-52"><a href="#cb2-52"></a>  <span class="fu">mutate</span>(<span class="at">ratio_teacher =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">9</span><span class="st">`</span>, <span class="st">`</span><span class="at">12</span><span class="st">`</span>,<span class="st">`</span><span class="at">15</span><span class="st">`</span>)<span class="sc">/</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-53"><a href="#cb2-53"></a>  <span class="fu">arrange</span>(State) <span class="sc">%&gt;%</span> </span>
<span id="cb2-54"><a href="#cb2-54"></a>  <span class="fu">mutate</span>(<span class="at">state_abb =</span> state.abb[<span class="fu">match</span>(State, state.name)])</span>
<span id="cb2-55"><a href="#cb2-55"></a></span>
<span id="cb2-56"><a href="#cb2-56"></a><span class="co"># Date4: School Fund  </span></span>
<span id="cb2-57"><a href="#cb2-57"></a>school <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"C:/Users/gakyeong/Desktop/2022.4th/project/total school fund.xlsx"</span>, <span class="at">skip=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-58"><a href="#cb2-58"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span>, <span class="st">`</span><span class="at">2</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-59"><a href="#cb2-59"></a>  <span class="fu">rename</span>( <span class="st">"State"</span><span class="ot">=</span> <span class="st">`</span><span class="at">1</span><span class="st">`</span> , <span class="st">"Total_fund"</span> <span class="ot">=</span><span class="st">`</span><span class="at">2</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-60"><a href="#cb2-60"></a>  <span class="fu">filter</span>(<span class="sc">!</span>State <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Puerto Rico'</span>, <span class="st">'District of Columbia'</span>, <span class="st">"   United States"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-61"><a href="#cb2-61"></a>  <span class="fu">arrange</span>(State) <span class="sc">%&gt;%</span> </span>
<span id="cb2-62"><a href="#cb2-62"></a>  <span class="fu">mutate</span>(<span class="at">state_abb =</span> state.abb[<span class="fu">match</span>(State, state.name)])</span>
<span id="cb2-63"><a href="#cb2-63"></a></span>
<span id="cb2-64"><a href="#cb2-64"></a></span>
<span id="cb2-65"><a href="#cb2-65"></a><span class="co">#join education, income /get ratio, </span></span>
<span id="cb2-66"><a href="#cb2-66"></a>df <span class="ot">&lt;-</span> <span class="fu">full_join</span>(education1, income1, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"State"</span><span class="ot">=</span><span class="st">"stateabb"</span>)) <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb2-67"><a href="#cb2-67"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">ratio_lower =</span> (lower_high<span class="sc">+</span>upper_high)<span class="sc">/</span>lower_high,</span>
<span id="cb2-68"><a href="#cb2-68"></a>                    <span class="at">ratio_higher =</span> (lower_high <span class="sc">+</span> upper_high)<span class="sc">/</span>upper_high)</span>
<span id="cb2-69"><a href="#cb2-69"></a></span>
<span id="cb2-70"><a href="#cb2-70"></a><span class="co">#join education, income, teacher ratio</span></span>
<span id="cb2-71"><a href="#cb2-71"></a>df2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df, teacher1, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"State"</span><span class="ot">=</span><span class="st">"state_abb"</span>)) <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>() </span>
<span id="cb2-72"><a href="#cb2-72"></a>df2<span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb2-73"><a href="#cb2-73"></a>  <span class="fu">select</span>(State, lower_high, income_17_21, ratio_lower, ratio_teacher)</span>
<span id="cb2-74"><a href="#cb2-74"></a></span>
<span id="cb2-75"><a href="#cb2-75"></a><span class="co">#Join education, income, teacher ratio</span></span>
<span id="cb2-76"><a href="#cb2-76"></a>df3 <span class="ot">&lt;-</span> <span class="fu">full_join</span> (df2, school, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"State"</span><span class="ot">=</span><span class="st">"state_abb"</span>)) <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb2-77"><a href="#cb2-77"></a>df3 <span class="ot">&lt;-</span> df3 <span class="sc">%&gt;%</span> </span>
<span id="cb2-78"><a href="#cb2-78"></a>  <span class="fu">select</span>(State, lower_high, income_17_21, ratio_lower, ratio_teacher, Total_fund)</span>
<span id="cb2-79"><a href="#cb2-79"></a></span>
<span id="cb2-80"><a href="#cb2-80"></a><span class="fu">datatable</span>(df3, <span class="at">options=</span><span class="fu">list</span>(<span class="at">lengthMenu =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">30</span>)),<span class="at">extensions=</span><span class="st">"Responsive"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a9261369dbffa4534275" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a9261369dbffa4534275">{"x":{"filter":"none","vertical":false,"extensions":["Responsive"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["AK","AL","AR","AZ","CA","CO","CT","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],[429105.677419355,2942512,1874906,3371916,19426378,2223192,1763940,543432,11930868,5514674,696794,1602506,838408,6223006,3892950,1309264,2754940,2935598,3140600,2811290,739978,5108360,2333412,3308280,1743478,508071.859649123,5128560,330462,863902,664302,4604874,1120226,1724696,10646510,6705212,2194198,1841370,7733430,594448,2802918,436238,4029950,14779600,1136228,3942144.71641791,310086,3153588,2990052,1329626,270766],[380994,268619,255632,330566,377859,389248,394797,342876,283595,291196,404737,339484,327856,364100,322347,343050,272273,253637,424673,456009,313357,309853,382412,304625,222620,297021,287396,329700,350586,421611,407250,251366,316315,342251,310052,278280,364786,339807,352975,296892,324714,285134,323129,403021,391757,351389,402726,330814,250042,323711],[2.84025049547912,2.32033242345316,2.15615076169152,2.84230508707809,2.75883337593863,3.54179036268572,2.85172624919215,2.54169058870291,2.5730382734936,2.56619194534437,2.92890581721427,2.64571115490363,2.82725594221429,2.81692738204013,2.3124951514918,2.93592583313984,2.2167916542647,2.13507094636255,3.12224925173534,3.01697441388117,2.68899886212833,2.71051061397396,3.29774681882154,2.53171980606236,2.26455969045781,2.98996218797065,2.7629104465971,3.04965169974157,2.95245294026406,2.96884850564954,2.78470420689035,2.54705568340674,2.45459837559779,2.64520110346019,2.4093057758651,2.37694228141672,3.22737526950043,2.35639218302875,2.57924999327107,2.50251416559457,2.66017632576713,2.33674363205499,2.51961744566835,3.38287738024411,3.02897039574973,2.93120618151094,3.34771187612332,2.69405682576758,1.92221572081172,2.8819127955504],[17.3017840251661,17.6787900504419,13.249504707721,23.4341994942658,23.0956533137707,17.1581661301441,12.1456655425716,14.4130920746975,16.5837685623821,15.1152221782571,14.9292999211605,14.4422881287027,18.258815896469,15.080101675039,17.1922791715096,13.606275801169,16.2611630109817,18.151896972195,12.9802850995672,14.8057520747273,12.1302526768953,17.7591057500012,15.641285577629,13.2893532449071,14.8757763159668,14.1109095285892,15.4823884325582,12.1974660192823,13.6681959126967,12.1864364317977,12.1010805576556,15.5960234304543,20.3895141960589,12.6327237268273,16.6138676175203,16.4737989694919,20.2461284470876,14.0444252869189,13.3773088163099,14.7736244558488,14.0660405954305,15.6766931247506,15.1077369986295,22.7539725561045,14.9119892264095,10.615458205155,18.326607621204,14.4799426452419,14.0990944491249,12.8411909476766],[2614818.172,8703514.773,5874455.304,12175096.414,100127293.756,13187698.566,11884392.362,2450066.297,33934526.763,23826891.752,3447871.217,7408114.453,3082137.095,39071159.712,13777624.05,7358311.818,8757350.435,9444753.734,19782831.164,17015238.207,3180672.3,22091387.644,14825589.847,12347541.396,5032201.128,2054110.041,16424984.765,1934394.803,4849887.781,3382783.772,33683024.901,4796238.275,5712602.991,76961931.35,26417646.707,7570497.39,9249697.595,34047550.312,2745635.876,11417955.833,1747682.661,11113864.008,70617931.164,6839132.796,18145001.628,1896965.598,20157771.006,13082030.791,3783283.36,1830236.331]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>State<\/th>\n      <th>lower_high<\/th>\n      <th>income_17_21<\/th>\n      <th>ratio_lower<\/th>\n      <th>ratio_teacher<\/th>\n      <th>Total_fund<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"lengthMenu":[3,10,30],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"responsive":true}},"evals":[],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>df3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 50 × 6
   State lower_high income_17_21 ratio_lower ratio_teacher Total_fund
   &lt;chr&gt;      &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;
 1 AK       429106.       380994        2.84          17.3   2614818.
 2 AL      2942512        268619        2.32          17.7   8703515.
 3 AR      1874906        255632        2.16          13.2   5874455.
 4 AZ      3371916        330566        2.84          23.4  12175096.
 5 CA     19426378        377859        2.76          23.1 100127294.
 6 CO      2223192        389248        3.54          17.2  13187699.
 7 CT      1763940        394797        2.85          12.1  11884392.
 8 DE       543432        342876        2.54          14.4   2450066.
 9 FL     11930868        283595        2.57          16.6  33934527.
10 GA      5514674        291196        2.57          15.1  23826892.
# … with 40 more rows</code></pre>
</div>
</div>
</section>
<section id="hypotheses" class="level2">
<h2 class="anchored" data-anchor-id="hypotheses">Hypotheses</h2>
<p><span class="math display">\[
  \underbrace{Y_i}_\text{Highschool Graduation} = \overbrace{\beta_0}^\text{y-int} + \overbrace{\beta_1}^\text{slope in Income} \underbrace{X_{i1}}_\text{House Income} +
\overbrace{\beta_2}^\text{slope in Teacher Ratio} \underbrace{X_{i2}}_\text{Teacher Ratio}+
\overbrace{\beta_3}^\text{slope in School Fund} \underbrace{X_{i3}}_\text{School Fund}+
\epsilon_i \quad \text{where} \ \epsilon_i \sim N(0, \sigma^2)
\]</span></p>
<p><span class="math inline">\(beta_1\)</span> represents slope of house income influences to the graduation rate. <span class="math inline">\(beta_2\)</span> represents slope of teacher ratio influences to the graduation rate. <span class="math inline">\(beta_3\)</span> represents slope of school fund influences to the graduation rate</p>
<p>The significance level for this study will be set at <span class="math inline">\(\alpha\)</span> = 0.05</p>
<p>we only put <span class="math inline">\(beta_i\)</span> as a representative hypothesis. <span class="math display">\[
\left.\begin{array}{ll}
H_0: \beta_i = 0 \\  
H_a: \beta_i \neq 0
\end{array}
\right\} \ \text{Slope Hypotheses}
\]</span></p>
</section>
<section id="anaylsis" class="level2">
<h2 class="anchored" data-anchor-id="anaylsis">Anaylsis</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>mylm <span class="ot">&lt;-</span> <span class="fu">lm</span>(ratio_lower <span class="sc">~</span> income_17_21 <span class="sc">+</span> ratio_teacher <span class="sc">+</span> Total_fund, <span class="at">data=</span> df3)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">pander</span>(mylm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Fitting linear model: ratio_lower ~ income_17_21 + ratio_teacher + Total_fund</caption>
<colgroup>
<col style="width: 27%">
<col style="width: 16%">
<col style="width: 18%">
<col style="width: 13%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">&nbsp;</th>
<th style="text-align: center;">Estimate</th>
<th style="text-align: center;">Std. Error</th>
<th style="text-align: center;">t value</th>
<th style="text-align: center;">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>(Intercept)</strong></td>
<td style="text-align: center;">0.7567</td>
<td style="text-align: center;">0.2698</td>
<td style="text-align: center;">2.805</td>
<td style="text-align: center;">0.007356</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>income_17_21</strong></td>
<td style="text-align: center;">5.223e-06</td>
<td style="text-align: center;">6.069e-07</td>
<td style="text-align: center;">8.606</td>
<td style="text-align: center;">3.844e-11</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>ratio_teacher</strong></td>
<td style="text-align: center;">0.01703</td>
<td style="text-align: center;">0.01122</td>
<td style="text-align: center;">1.518</td>
<td style="text-align: center;">0.1359</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>Total_fund</strong></td>
<td style="text-align: center;">-3.11e-09</td>
<td style="text-align: center;">1.65e-09</td>
<td style="text-align: center;">-1.885</td>
<td style="text-align: center;">0.06577</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><span class="math inline">\(beta_0\)</span>, y-intercept is estimated to 0.76. <span class="math inline">\(beta_1\)</span>. The slope of “Income” direction is estimated to 5.223e-06. <span class="math inline">\(beta_2\)</span>, the slope of “Teacher ratio” direction is estimated to 0.01703, which p-value is greater than 0.05. <span class="math inline">\(beta_3\)</span>, the slope of “School Fund” direction is estimated to -3.11e-09 which p-value is greater than 0.05.</p>
</section>
<section id="graphic" class="level2">
<h2 class="anchored" data-anchor-id="graphic">Graphic</h2>
<p>Visualizing this model is not really possible in its full form. Therefore, we replace the graph to the simple linear graph.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>graph1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df3, <span class="fu">aes</span>(<span class="at">x =</span> income_17_21, <span class="at">y =</span> ratio_lower))<span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y<span class="sc">~</span>x, <span class="at">se =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Strong relationship between Income and Graduation rate"</span>, <span class="at">subtitle =</span> <span class="st">"These data is based on median of house income and gratduation rate by state level. </span><span class="sc">\n</span><span class="st">Y axis means that number of students who graduate in high school or less than high school."</span>, <span class="at">x=</span><span class="st">"House Income ($)"</span> , <span class="at">y =</span><span class="st">"Number of graduation"</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">color =</span> <span class="st">"grey80"</span>))<span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>graph1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="final-project_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="1008"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>graph2<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df3, <span class="fu">aes</span>(<span class="at">x =</span> ratio_teacher, <span class="at">y =</span> ratio_lower))<span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y<span class="sc">~</span>x, <span class="at">se =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"No Strong Relationship between teacher ratio and Graduation rate"</span>, <span class="at">x=</span><span class="st">"Teacher ratio"</span>, <span class="at">y =</span><span class="st">"Number of graduation"</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a>graph2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="final-project_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="1008"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>graph3<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df3, <span class="fu">aes</span>(<span class="at">x =</span> Total_fund, <span class="at">y =</span> ratio_lower))<span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y<span class="sc">~</span>x, <span class="at">se =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"No Strong Relationship between school fund and Graduation rate"</span>, <span class="at">x=</span><span class="st">"Total School Fund"</span>, <span class="at">y =</span><span class="st">"Number of graduation"</span>) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">trans =</span> <span class="st">"log"</span>)</span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a>graph3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="final-project_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
<section id="diagnostic-plots" class="level2">
<h2 class="anchored" data-anchor-id="diagnostic-plots">Diagnostic Plots</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">plot</span>(mylm, <span class="at">which=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">plot</span>(mylm<span class="sc">$</span>residuals, <span class="at">main=</span><span class="st">"Residuals vs Order"</span>, <span class="at">xlab=</span><span class="st">""</span>,</span>
<span id="cb9-4"><a href="#cb9-4"></a>     <span class="at">ylab=</span><span class="st">"Residuals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="final-project_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
<p>In order to checking assumption, Residuals vs Fitted values plots shows that regression relationship and constant variance. It is reasonable to say that assumptions is good. Q-Q plot shows the normality of the error terms. It also is reasonable because data is in the range. Residuals vs Order plot shows that independence of the error terms which does not have any trend. Form checking assumptions, linear regression is appropriate.</p>
</section>
<section id="conclusions" class="level2">
<h2 class="anchored" data-anchor-id="conclusions">Conclusions</h2>
<p>We found that the higher house income the higher number of graduation rate in less than high school attainment and high school attainment. It shows that education have inequality depends on the social class. As above the first graph shows, estimate line is meaningful to conclude that house income and graduation have strong regression because of p-value is less than 0.05. However, teacher ratio and school fund do not have a strong affect to the graduation rate. Since their p-value is greater than 0.05, we have insufficient evidence to reject the null hypotheses. Sadly, we conclude that school cannot back up students who have not support from the family in general.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>